import{j as e,l as $,i as p,h as C}from"./index-IiiVIy1X.js";import{r as i}from"./index-aXz8NaAs.js";import{i as Se}from"./index-uFIVUTCs.js";import{r as L}from"./index.m-0-FAh1ao.js";import{u as Ae}from"./useId-2aPQunoU.js";import{a as Fe}from"./i18n-A3YjQJqi.js";const q=typeof window<"u"?i.useLayoutEffect:i.useEffect;function we({ref:a,value:n,minimumRows:l,maximumRows:o}){const R=i.useRef(-1/0),m=i.useRef(1/0),S=n!==void 0;function A(t){t.style.setProperty("height","auto");let s=Math.max(R.current,t.scrollHeight);s=Math.min(m.current,s),t.style.setProperty("height",s+"px")}q(()=>{if(a.current&&(l||o)){const t=getComputedStyle(a.current),s=parseFloat(t.getPropertyValue("line-height")),w=parseFloat(t.getPropertyValue("padding-top")),d=parseFloat(t.getPropertyValue("padding-bottom")),V=parseFloat(t.getPropertyValue("border-bottom-width")),u=w+d+V;l&&(R.current=s*l+u),o&&(m.current=s*o+u)}},[a,o,l]),q(()=>{a.current&&A(a.current)},[a,n]),i.useEffect(()=>{if(!a.current&&S)return;const t=a.current,s=()=>{A(t)};return t.addEventListener("input",s),()=>t.removeEventListener("input",s)},[a,S])}const Ve=JSON.parse('{"textarea.label.optional":"(valgfritt)"}'),Ee=JSON.parse('{"textarea.label.optional":"(optional)"}'),Oe=JSON.parse('{"textarea.label.optional":"(valinnainen)"}'),r=i.forwardRef((a,n)=>{const{className:l,disabled:o,error:R,helpText:m,id:S,invalid:A,label:t,maximumRows:s,minimumRows:w,readOnly:d,style:V,value:u,optional:je,placeholder:P,...Re}=a;Fe(Ee,Ve,Oe);const E=Ae(S),H=i.useRef(null),F=m?`${E}__hint`:void 0,c=A??R;return we({ref:H,value:u,maximumRows:s,minimumRows:w}),e.jsxs("div",{className:l,style:V,children:[t&&e.jsxs("label",{htmlFor:E,className:$.label,children:[t,je&&e.jsx("span",{className:$.optional,children:Se._({id:"textarea.label.optional",message:"(optional)",comment:"Shown behind label when marked as optional"})})]}),e.jsx("textarea",{className:L({[`${p.base} ${p.textArea}`]:!0,[p.placeholder]:!!P,[p.default]:!c&&!o&&!d,[p.invalid]:c&&!o&&!d,[p.disabled]:!c&&o&&!d,[p.readOnly]:!c&&!o&&d}),...Re,placeholder:P,"aria-describedby":F,"aria-errormessage":c&&F?F:void 0,"aria-invalid":c,disabled:o,id:E,ref:O=>{H.current=O,n&&(typeof n=="function"?n(O):n.current=O)},readOnly:d,value:u}),m&&e.jsx("div",{className:L({[C.helpText]:!0,[C.helpTextColor]:!c,[C.helpTextColorInvalid]:c}),id:F,children:m})]})});r.__docgenInfo={description:"A textarea component that automatically resizes as content changes.",methods:[],displayName:"TextArea"};const Je={title:"Forms/TextArea"},x=()=>e.jsx(r,{label:"Description",helpText:"Hint message"}),h=()=>e.jsx(r,{label:"Description",defaultValue:"Test"}),g=()=>{const[a,n]=i.useState("Test");return e.jsx(r,{label:"Description",value:a,onChange:l=>n(l.target.value),minimumRows:4,maximumRows:6})},f=()=>{const a=i.useRef(null);return i.useEffect(()=>{console.log(a.current)}),e.jsx(r,{label:"Description",value:"hey",ref:a})},b=()=>e.jsx(r,{label:"Description",required:!0}),y=()=>e.jsx(r,{label:"Description",placeholder:"Lorem ipsum"}),v=()=>e.jsx(r,{label:"Description",readOnly:!0}),T=()=>e.jsx(r,{label:"Description",autoFocus:!0}),_=()=>e.jsx(r,{label:"Description",disabled:!0}),D=()=>e.jsx(r,{label:"Description",invalid:!0,helpText:"Invalid text"}),I=()=>e.jsx(r,{label:"Description",minimumRows:3}),N=()=>e.jsx(r,{label:"Description",maximumRows:3}),j=()=>e.jsx(r,{label:"Description",optional:!0});x.__docgenInfo={description:"",methods:[],displayName:"standard"};h.__docgenInfo={description:"",methods:[],displayName:"valueUncontrolled"};g.__docgenInfo={description:"",methods:[],displayName:"ValueControlled"};f.__docgenInfo={description:"",methods:[],displayName:"TextFieldWithRef"};b.__docgenInfo={description:"",methods:[],displayName:"required"};y.__docgenInfo={description:"",methods:[],displayName:"placeholder"};v.__docgenInfo={description:"",methods:[],displayName:"readOnly"};T.__docgenInfo={description:"",methods:[],displayName:"autoFocus"};_.__docgenInfo={description:"",methods:[],displayName:"disabled"};D.__docgenInfo={description:"",methods:[],displayName:"invalid"};I.__docgenInfo={description:"",methods:[],displayName:"minimumRows3"};N.__docgenInfo={description:"",methods:[],displayName:"maximumRows3"};j.__docgenInfo={description:"",methods:[],displayName:"optional"};var J,U,W;x.parameters={...x.parameters,docs:{...(J=x.parameters)==null?void 0:J.docs,source:{originalSource:'() => <TextArea label="Description" helpText="Hint message" />',...(W=(U=x.parameters)==null?void 0:U.docs)==null?void 0:W.source}}};var z,M,k;h.parameters={...h.parameters,docs:{...(z=h.parameters)==null?void 0:z.docs,source:{originalSource:'() => <TextArea label="Description" defaultValue="Test" />',...(k=(M=h.parameters)==null?void 0:M.docs)==null?void 0:k.source}}};var B,G,K;g.parameters={...g.parameters,docs:{...(B=g.parameters)==null?void 0:B.docs,source:{originalSource:`() => {
  const [value, setValue] = React.useState('Test');
  return <TextArea label="Description" value={value} onChange={e => setValue(e.target.value)} minimumRows={4} maximumRows={6} />;
}`,...(K=(G=g.parameters)==null?void 0:G.docs)==null?void 0:K.source}}};var Q,X,Y;f.parameters={...f.parameters,docs:{...(Q=f.parameters)==null?void 0:Q.docs,source:{originalSource:`() => {
  const ref = React.useRef(null);
  React.useEffect(() => {
    console.log(ref.current);
  });
  return <TextArea label="Description" value="hey" ref={ref} />;
}`,...(Y=(X=f.parameters)==null?void 0:X.docs)==null?void 0:Y.source}}};var Z,ee,ae;b.parameters={...b.parameters,docs:{...(Z=b.parameters)==null?void 0:Z.docs,source:{originalSource:'() => <TextArea label="Description" required />',...(ae=(ee=b.parameters)==null?void 0:ee.docs)==null?void 0:ae.source}}};var te,re,se;y.parameters={...y.parameters,docs:{...(te=y.parameters)==null?void 0:te.docs,source:{originalSource:'() => <TextArea label="Description" placeholder="Lorem ipsum" />',...(se=(re=y.parameters)==null?void 0:re.docs)==null?void 0:se.source}}};var oe,ie,ne;v.parameters={...v.parameters,docs:{...(oe=v.parameters)==null?void 0:oe.docs,source:{originalSource:'() => <TextArea label="Description" readOnly />',...(ne=(ie=v.parameters)==null?void 0:ie.docs)==null?void 0:ne.source}}};var le,ce,de;T.parameters={...T.parameters,docs:{...(le=T.parameters)==null?void 0:le.docs,source:{originalSource:'() => <TextArea label="Description" autoFocus />',...(de=(ce=T.parameters)==null?void 0:ce.docs)==null?void 0:de.source}}};var pe,me,ue;_.parameters={..._.parameters,docs:{...(pe=_.parameters)==null?void 0:pe.docs,source:{originalSource:'() => <TextArea label="Description" disabled />',...(ue=(me=_.parameters)==null?void 0:me.docs)==null?void 0:ue.source}}};var xe,he,ge;D.parameters={...D.parameters,docs:{...(xe=D.parameters)==null?void 0:xe.docs,source:{originalSource:'() => <TextArea label="Description" invalid helpText="Invalid text" />',...(ge=(he=D.parameters)==null?void 0:he.docs)==null?void 0:ge.source}}};var fe,be,ye;I.parameters={...I.parameters,docs:{...(fe=I.parameters)==null?void 0:fe.docs,source:{originalSource:'() => <TextArea label="Description" minimumRows={3} />',...(ye=(be=I.parameters)==null?void 0:be.docs)==null?void 0:ye.source}}};var ve,Te,_e;N.parameters={...N.parameters,docs:{...(ve=N.parameters)==null?void 0:ve.docs,source:{originalSource:'() => <TextArea label="Description" maximumRows={3} />',...(_e=(Te=N.parameters)==null?void 0:Te.docs)==null?void 0:_e.source}}};var De,Ie,Ne;j.parameters={...j.parameters,docs:{...(De=j.parameters)==null?void 0:De.docs,source:{originalSource:'() => <TextArea label="Description" optional />',...(Ne=(Ie=j.parameters)==null?void 0:Ie.docs)==null?void 0:Ne.source}}};const Ue=["standard","valueUncontrolled","ValueControlled","TextFieldWithRef","required","placeholder","readOnly","autoFocus","disabled","invalid","minimumRows3","maximumRows3","optional"];export{f as TextFieldWithRef,g as ValueControlled,Ue as __namedExportsOrder,T as autoFocus,Je as default,_ as disabled,D as invalid,N as maximumRows3,I as minimumRows3,j as optional,y as placeholder,v as readOnly,b as required,x as standard,h as valueUncontrolled};
