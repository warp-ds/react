import{j as e,l as H,k as p,m as C}from"./index-B5Zu8qyh.js";import{r as i}from"./index-RYns6xqu.js";import{r as L}from"./index.m-CtIADANO.js";import{i as je}from"./index-1YnX0IqW.js";import{a as Re}from"./i18n-CHMFe01U.js";import{u as Ae}from"./useId-CY2WEmb6.js";const q=typeof window<"u"?i.useLayoutEffect:i.useEffect,Fe=JSON.parse('{"textarea.label.optional":"(valgfrit)"}'),Ve=JSON.parse('{"textarea.label.optional":"(optional)"}'),we=JSON.parse('{"textarea.label.optional":"(valinnainen)"}'),Oe=JSON.parse('{"textarea.label.optional":"(valgfritt)"}');function Ee({ref:a,value:n,minimumRows:l,maximumRows:o}){const m=i.useRef(-1/0),j=i.useRef(1/0),R=n!==void 0;function u(t){t.style.setProperty("height","auto");let s=Math.max(m.current,t.scrollHeight);s=Math.min(j.current,s),t.style.setProperty("height",s+"px")}q(()=>{if(a.current&&(l||o)){const t=getComputedStyle(a.current),s=parseFloat(t.getPropertyValue("line-height")),d=parseFloat(t.getPropertyValue("padding-top")),w=parseFloat(t.getPropertyValue("padding-bottom")),A=parseFloat(t.getPropertyValue("border-bottom-width")),F=d+w+A;l&&(m.current=s*l+F),o&&(j.current=s*o+F)}},[a,o,l]),q(()=>{a.current&&u(a.current)},[a,n]),i.useEffect(()=>{if(!a.current&&R)return;const t=a.current,s=()=>{u(t)};return t.addEventListener("input",s),()=>t.removeEventListener("input",s)},[a,R])}const r=i.forwardRef((a,n)=>{const{className:l,disabled:o,helpText:m,id:j,invalid:R,label:u,maximumRows:t,minimumRows:s,readOnly:d,style:w,value:A,optional:F,placeholder:P,...Se}=a;Re(Ve,Oe,we,Fe);const O=Ae(j),$=i.useRef(null),V=m?`${O}__hint`:void 0,c=R;return Ee({ref:$,value:A,maximumRows:t,minimumRows:s}),e.jsxs("div",{className:l,style:w,children:[u&&e.jsxs("label",{htmlFor:O,className:H.label,children:[u,F&&e.jsx("span",{className:H.optional,children:je._({id:"textarea.label.optional",message:"(optional)",comment:"Shown behind label when marked as optional"})})]}),e.jsx("textarea",{className:L({[`${p.base} ${p.textArea}`]:!0,[p.placeholder]:!!P,[p.default]:!c&&!o&&!d,[p.invalid]:c&&!o&&!d,[p.disabled]:!c&&o&&!d,[p.readOnly]:!c&&!o&&d}),...Se,placeholder:P,"aria-describedby":V,"aria-errormessage":c&&V?V:void 0,"aria-invalid":c,disabled:o,id:O,ref:E=>{$.current=E,n&&(typeof n=="function"?n(E):n.current=E)},readOnly:d,value:A}),m&&e.jsx("div",{className:L({[C.helpText]:!0,[C.helpTextColor]:!c,[C.helpTextColorInvalid]:c}),id:V,children:m})]})});r.__docgenInfo={description:"A textarea component that automatically resizes as content changes.",methods:[],displayName:"TextArea"};const Je={title:"Forms/TextArea"},x=()=>e.jsx(r,{label:"Description",helpText:"Hint message"}),h=()=>e.jsx(r,{label:"Description",defaultValue:"Test"}),g=()=>{const[a,n]=i.useState("Test");return e.jsx(r,{label:"Description",value:a,onChange:l=>n(l.target.value),minimumRows:4,maximumRows:6})},f=()=>{const a=i.useRef(null);return i.useEffect(()=>{console.log(a.current)}),e.jsx(r,{label:"Description",defaultValue:"hey",ref:a})},b=()=>e.jsx(r,{label:"Description",required:!0}),y=()=>e.jsx(r,{label:"Description",placeholder:"Lorem ipsum"}),v=()=>e.jsx(r,{label:"Description",readOnly:!0}),T=()=>e.jsx(r,{label:"Description",autoFocus:!0}),_=()=>e.jsx(r,{label:"Description",disabled:!0}),D=()=>e.jsx(r,{label:"Description",invalid:!0,helpText:"Invalid text"}),I=()=>e.jsx(r,{label:"Description",minimumRows:3}),N=()=>e.jsx(r,{label:"Description",maximumRows:3}),S=()=>e.jsx(r,{label:"Description",optional:!0});x.__docgenInfo={description:"",methods:[],displayName:"standard"};h.__docgenInfo={description:"",methods:[],displayName:"valueUncontrolled"};g.__docgenInfo={description:"",methods:[],displayName:"ValueControlled"};f.__docgenInfo={description:"",methods:[],displayName:"TextFieldWithRef"};b.__docgenInfo={description:"",methods:[],displayName:"required"};y.__docgenInfo={description:"",methods:[],displayName:"placeholder"};v.__docgenInfo={description:"",methods:[],displayName:"readOnly"};T.__docgenInfo={description:"",methods:[],displayName:"autoFocus"};_.__docgenInfo={description:"",methods:[],displayName:"disabled"};D.__docgenInfo={description:"",methods:[],displayName:"invalid"};I.__docgenInfo={description:"",methods:[],displayName:"minimumRows3"};N.__docgenInfo={description:"",methods:[],displayName:"maximumRows3"};S.__docgenInfo={description:"",methods:[],displayName:"optional"};var J,U,W;x.parameters={...x.parameters,docs:{...(J=x.parameters)==null?void 0:J.docs,source:{originalSource:'() => <TextArea label="Description" helpText="Hint message" />',...(W=(U=x.parameters)==null?void 0:U.docs)==null?void 0:W.source}}};var k,z,M;h.parameters={...h.parameters,docs:{...(k=h.parameters)==null?void 0:k.docs,source:{originalSource:'() => <TextArea label="Description" defaultValue="Test" />',...(M=(z=h.parameters)==null?void 0:z.docs)==null?void 0:M.source}}};var B,G,K;g.parameters={...g.parameters,docs:{...(B=g.parameters)==null?void 0:B.docs,source:{originalSource:`() => {
  const [value, setValue] = React.useState('Test');
  return <TextArea label="Description" value={value} onChange={e => setValue(e.target.value)} minimumRows={4} maximumRows={6} />;
}`,...(K=(G=g.parameters)==null?void 0:G.docs)==null?void 0:K.source}}};var Q,X,Y;f.parameters={...f.parameters,docs:{...(Q=f.parameters)==null?void 0:Q.docs,source:{originalSource:`() => {
  const ref = React.useRef(null);
  React.useEffect(() => {
    console.log(ref.current);
  });
  return <TextArea label="Description" defaultValue="hey" ref={ref} />;
}`,...(Y=(X=f.parameters)==null?void 0:X.docs)==null?void 0:Y.source}}};var Z,ee,ae;b.parameters={...b.parameters,docs:{...(Z=b.parameters)==null?void 0:Z.docs,source:{originalSource:'() => <TextArea label="Description" required />',...(ae=(ee=b.parameters)==null?void 0:ee.docs)==null?void 0:ae.source}}};var te,re,se;y.parameters={...y.parameters,docs:{...(te=y.parameters)==null?void 0:te.docs,source:{originalSource:'() => <TextArea label="Description" placeholder="Lorem ipsum" />',...(se=(re=y.parameters)==null?void 0:re.docs)==null?void 0:se.source}}};var oe,ie,ne;v.parameters={...v.parameters,docs:{...(oe=v.parameters)==null?void 0:oe.docs,source:{originalSource:'() => <TextArea label="Description" readOnly />',...(ne=(ie=v.parameters)==null?void 0:ie.docs)==null?void 0:ne.source}}};var le,ce,de;T.parameters={...T.parameters,docs:{...(le=T.parameters)==null?void 0:le.docs,source:{originalSource:'() => <TextArea label="Description" autoFocus />',...(de=(ce=T.parameters)==null?void 0:ce.docs)==null?void 0:de.source}}};var pe,me,ue;_.parameters={..._.parameters,docs:{...(pe=_.parameters)==null?void 0:pe.docs,source:{originalSource:'() => <TextArea label="Description" disabled />',...(ue=(me=_.parameters)==null?void 0:me.docs)==null?void 0:ue.source}}};var xe,he,ge;D.parameters={...D.parameters,docs:{...(xe=D.parameters)==null?void 0:xe.docs,source:{originalSource:'() => <TextArea label="Description" invalid helpText="Invalid text" />',...(ge=(he=D.parameters)==null?void 0:he.docs)==null?void 0:ge.source}}};var fe,be,ye;I.parameters={...I.parameters,docs:{...(fe=I.parameters)==null?void 0:fe.docs,source:{originalSource:'() => <TextArea label="Description" minimumRows={3} />',...(ye=(be=I.parameters)==null?void 0:be.docs)==null?void 0:ye.source}}};var ve,Te,_e;N.parameters={...N.parameters,docs:{...(ve=N.parameters)==null?void 0:ve.docs,source:{originalSource:'() => <TextArea label="Description" maximumRows={3} />',...(_e=(Te=N.parameters)==null?void 0:Te.docs)==null?void 0:_e.source}}};var De,Ie,Ne;S.parameters={...S.parameters,docs:{...(De=S.parameters)==null?void 0:De.docs,source:{originalSource:'() => <TextArea label="Description" optional />',...(Ne=(Ie=S.parameters)==null?void 0:Ie.docs)==null?void 0:Ne.source}}};const Ue=["standard","valueUncontrolled","ValueControlled","TextFieldWithRef","required","placeholder","readOnly","autoFocus","disabled","invalid","minimumRows3","maximumRows3","optional"];export{f as TextFieldWithRef,g as ValueControlled,Ue as __namedExportsOrder,T as autoFocus,Je as default,_ as disabled,D as invalid,N as maximumRows3,I as minimumRows3,S as optional,y as placeholder,v as readOnly,b as required,x as standard,h as valueUncontrolled};
