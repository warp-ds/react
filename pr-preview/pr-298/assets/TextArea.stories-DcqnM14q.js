import{j as e,n as P,m as p}from"./index-Doc5cTI3.js";import{r as n}from"./index-unuZPxnm.js";import{r as Se}from"./index.m-DF_LekKB.js";import{i as je}from"./index-xdYabMw5.js";import{u as Re,H as Ae}from"./help-text-BjD4hxaK.js";import{a as Fe}from"./i18n-DgFCe9MJ.js";const L=typeof window<"u"?n.useLayoutEffect:n.useEffect,Ve=JSON.parse('{"textarea.label.optional":"(valgfrit)"}'),we=JSON.parse('{"textarea.label.optional":"(optional)"}'),Oe=JSON.parse('{"textarea.label.optional":"(valinnainen)"}'),Ee=JSON.parse('{"textarea.label.optional":"(valgfritt)"}'),He=JSON.parse('{"textarea.label.optional":"(valfritt)"}');function Ce({ref:a,value:i,minimumRows:l,maximumRows:o}){const m=n.useRef(-1/0),j=n.useRef(1/0),R=i!==void 0;function u(t){t.style.setProperty("height","auto");let r=Math.max(m.current,t.scrollHeight);r=Math.min(j.current,r),t.style.setProperty("height",r+"px")}L(()=>{if(a.current&&(l||o)){const t=getComputedStyle(a.current),r=parseFloat(t.getPropertyValue("line-height")),c=parseFloat(t.getPropertyValue("padding-top")),w=parseFloat(t.getPropertyValue("padding-bottom")),A=parseFloat(t.getPropertyValue("border-bottom-width")),F=c+w+A;l&&(m.current=r*l+F),o&&(j.current=r*o+F)}},[a,o,l]),L(()=>{a.current&&u(a.current)},[a,i]),n.useEffect(()=>{if(!a.current&&R)return;const t=a.current,r=()=>{u(t)};return t.addEventListener("input",r),()=>t.removeEventListener("input",r)},[a,R])}const s=n.forwardRef((a,i)=>{const{className:l,disabled:o,helpText:m,id:j,invalid:R,label:u,maximumRows:t,minimumRows:r,readOnly:c,style:w,value:A,optional:F,placeholder:H,...Ie}=a;Fe(we,Ee,Oe,Ve,He);const O=Re(j),C=n.useRef(null),V=m?`${O}__hint`:void 0,d=R,Ne=Se([p.base,p.textArea,!!H&&p.placeholder,!d&&!o&&!c&&p.default,d&&!o&&!c&&p.invalid,!d&&o&&!c&&p.disabled,!d&&!o&&c&&p.readOnly]);return Ce({ref:C,value:A,maximumRows:t,minimumRows:r}),e.jsxs("div",{className:l,style:w,children:[u&&e.jsxs("label",{htmlFor:O,className:P.base,children:[u,F&&e.jsx("span",{className:P.optional,children:je._({id:"textarea.label.optional",message:"(optional)",comment:"Shown behind label when marked as optional"})})]}),e.jsx("textarea",{className:Ne,...Ie,placeholder:H,"aria-describedby":V,"aria-errormessage":d&&V?V:void 0,"aria-invalid":d,disabled:o,id:O,ref:E=>{C.current=E,i&&(typeof i=="function"?i(E):i.current=E)},readOnly:c,value:A}),a.helpText&&e.jsx(Ae,{helpId:V,helpText:m,isInvalid:d})]})});s.__docgenInfo={description:"A textarea component that automatically resizes as content changes.",methods:[],displayName:"TextArea"};const We={title:"Forms/TextArea"},x=()=>e.jsx(s,{label:"Description",helpText:"Hint message"}),f=()=>e.jsx(s,{label:"Description",defaultValue:"Test"}),g=()=>{const[a,i]=n.useState("Test");return e.jsx(s,{label:"Description",value:a,onChange:l=>i(l.target.value),minimumRows:4,maximumRows:6})},h=()=>{const a=n.useRef(null);return n.useEffect(()=>{console.log(a.current)}),e.jsx(s,{label:"Description",defaultValue:"hey",ref:a})},b=()=>e.jsx(s,{label:"Description",required:!0}),y=()=>e.jsx(s,{label:"Description",placeholder:"Lorem ipsum"}),_=()=>e.jsx(s,{label:"Description",readOnly:!0}),T=()=>e.jsx(s,{label:"Description",autoFocus:!0}),v=()=>e.jsx(s,{label:"Description",disabled:!0}),D=()=>e.jsx(s,{label:"Description",invalid:!0,helpText:"Invalid text"}),I=()=>e.jsx(s,{label:"Description",minimumRows:3}),N=()=>e.jsx(s,{label:"Description",maximumRows:3}),S=()=>e.jsx(s,{label:"Description",optional:!0});x.__docgenInfo={description:"",methods:[],displayName:"standard"};f.__docgenInfo={description:"",methods:[],displayName:"valueUncontrolled"};g.__docgenInfo={description:"",methods:[],displayName:"ValueControlled"};h.__docgenInfo={description:"",methods:[],displayName:"TextFieldWithRef"};b.__docgenInfo={description:"",methods:[],displayName:"required"};y.__docgenInfo={description:"",methods:[],displayName:"placeholder"};_.__docgenInfo={description:"",methods:[],displayName:"readOnly"};T.__docgenInfo={description:"",methods:[],displayName:"autoFocus"};v.__docgenInfo={description:"",methods:[],displayName:"disabled"};D.__docgenInfo={description:"",methods:[],displayName:"invalid"};I.__docgenInfo={description:"",methods:[],displayName:"minimumRows3"};N.__docgenInfo={description:"",methods:[],displayName:"maximumRows3"};S.__docgenInfo={description:"",methods:[],displayName:"optional"};var $,q,J;x.parameters={...x.parameters,docs:{...($=x.parameters)==null?void 0:$.docs,source:{originalSource:'() => <TextArea label="Description" helpText="Hint message" />',...(J=(q=x.parameters)==null?void 0:q.docs)==null?void 0:J.source}}};var U,W,z;f.parameters={...f.parameters,docs:{...(U=f.parameters)==null?void 0:U.docs,source:{originalSource:'() => <TextArea label="Description" defaultValue="Test" />',...(z=(W=f.parameters)==null?void 0:W.docs)==null?void 0:z.source}}};var M,k,B;g.parameters={...g.parameters,docs:{...(M=g.parameters)==null?void 0:M.docs,source:{originalSource:`() => {
  const [value, setValue] = React.useState('Test');
  return <TextArea label="Description" value={value} onChange={e => setValue(e.target.value)} minimumRows={4} maximumRows={6} />;
}`,...(B=(k=g.parameters)==null?void 0:k.docs)==null?void 0:B.source}}};var G,K,Q;h.parameters={...h.parameters,docs:{...(G=h.parameters)==null?void 0:G.docs,source:{originalSource:`() => {
  const ref = React.useRef(null);
  React.useEffect(() => {
    console.log(ref.current);
  });
  return <TextArea label="Description" defaultValue="hey" ref={ref} />;
}`,...(Q=(K=h.parameters)==null?void 0:K.docs)==null?void 0:Q.source}}};var X,Y,Z;b.parameters={...b.parameters,docs:{...(X=b.parameters)==null?void 0:X.docs,source:{originalSource:'() => <TextArea label="Description" required />',...(Z=(Y=b.parameters)==null?void 0:Y.docs)==null?void 0:Z.source}}};var ee,ae,te;y.parameters={...y.parameters,docs:{...(ee=y.parameters)==null?void 0:ee.docs,source:{originalSource:'() => <TextArea label="Description" placeholder="Lorem ipsum" />',...(te=(ae=y.parameters)==null?void 0:ae.docs)==null?void 0:te.source}}};var se,re,oe;_.parameters={..._.parameters,docs:{...(se=_.parameters)==null?void 0:se.docs,source:{originalSource:'() => <TextArea label="Description" readOnly />',...(oe=(re=_.parameters)==null?void 0:re.docs)==null?void 0:oe.source}}};var ne,ie,le;T.parameters={...T.parameters,docs:{...(ne=T.parameters)==null?void 0:ne.docs,source:{originalSource:'() => <TextArea label="Description" autoFocus />',...(le=(ie=T.parameters)==null?void 0:ie.docs)==null?void 0:le.source}}};var ce,de,pe;v.parameters={...v.parameters,docs:{...(ce=v.parameters)==null?void 0:ce.docs,source:{originalSource:'() => <TextArea label="Description" disabled />',...(pe=(de=v.parameters)==null?void 0:de.docs)==null?void 0:pe.source}}};var me,ue,xe;D.parameters={...D.parameters,docs:{...(me=D.parameters)==null?void 0:me.docs,source:{originalSource:'() => <TextArea label="Description" invalid helpText="Invalid text" />',...(xe=(ue=D.parameters)==null?void 0:ue.docs)==null?void 0:xe.source}}};var fe,ge,he;I.parameters={...I.parameters,docs:{...(fe=I.parameters)==null?void 0:fe.docs,source:{originalSource:'() => <TextArea label="Description" minimumRows={3} />',...(he=(ge=I.parameters)==null?void 0:ge.docs)==null?void 0:he.source}}};var be,ye,_e;N.parameters={...N.parameters,docs:{...(be=N.parameters)==null?void 0:be.docs,source:{originalSource:'() => <TextArea label="Description" maximumRows={3} />',...(_e=(ye=N.parameters)==null?void 0:ye.docs)==null?void 0:_e.source}}};var Te,ve,De;S.parameters={...S.parameters,docs:{...(Te=S.parameters)==null?void 0:Te.docs,source:{originalSource:'() => <TextArea label="Description" optional />',...(De=(ve=S.parameters)==null?void 0:ve.docs)==null?void 0:De.source}}};const ze=["standard","valueUncontrolled","ValueControlled","TextFieldWithRef","required","placeholder","readOnly","autoFocus","disabled","invalid","minimumRows3","maximumRows3","optional"];export{h as TextFieldWithRef,g as ValueControlled,ze as __namedExportsOrder,T as autoFocus,We as default,v as disabled,D as invalid,N as maximumRows3,I as minimumRows3,S as optional,y as placeholder,_ as readOnly,b as required,x as standard,f as valueUncontrolled};
